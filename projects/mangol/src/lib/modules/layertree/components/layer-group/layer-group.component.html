<mat-list>
    <h3 mat-subheader>{{dictGroups}}</h3>
    <mat-list-item>
        <button mat-icon-button
            (click)="toggleGroup()">
        <mat-icon mat-list-icon
            fontSet="ms"
            [fontIcon]="group.checked ? 'ms-directory-open-o' : 'ms-directory-o'"></mat-icon>
      </button>
        <mat-toolbar color="default">
            <mat-toolbar-row>
                <div *ngIf="showBadges && !group.checked && group.children && group.children.length > 0; else checked"
                    [matBadge]="group.children.length"
                    matBadgeOverlap="false"
                    matBadgeColor="primary"
                    [matTooltip]="group.name"
                    matTooltipPosition="above"
                    [matTooltipDisabled]="group.name.length < displayLimit">{{group.name | shorten:displayLimit}}</div>
                <ng-template #checked>
                    <span [matTooltip]="group.name"
                        matTooltipPosition="above"
                        [matTooltipDisabled]="group.name.length < displayLimit">{{group.name | shorten:displayLimit}}</span></ng-template>
            </mat-toolbar-row>
        </mat-toolbar>
    </mat-list-item>
</mat-list>

<mangol-layertree-item [items]="group.children"
    [@slideState]="group.checked ? 'down' : 'up'"
    [level]="level + 1">
</mangol-layertree-item>
